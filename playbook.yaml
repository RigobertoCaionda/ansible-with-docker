# Esses 3 tracinhos indicam que estou começando um ansible playbook apenas, é só um indicador
---
# Name é apenas o nome desse playbook
- name: Deploy do Backend da VPS

# - hosts indica apenas à quais ips esses comandos vão afetar, nesse caso vai afetar os ips do grupo producao
  hosts: producao

# remote_user indica qual usuário vamos usar, como no servidor usamos o usuário root, então aqui também deve ser o usuário root para não dar erro.
  remote_user: root

  # O comando become yes é usado quando o teu remote_user não é o root, imagine que o teu remote_user é rigoberto, esse comando diz executa todos os comandos como se fosses root (Executando comandos com sudo). No meu caso, como o user já é root, então não precisa
  become: yes

  # Aqui você define as roles que esse playbook vai executar, as roles são como se fossem módulos que contém várias tarefas (tasks) para serem executadas.
  roles:
    #- install_nginx
    #- install_docker
    - deploy_stack
    - deploy-frotend